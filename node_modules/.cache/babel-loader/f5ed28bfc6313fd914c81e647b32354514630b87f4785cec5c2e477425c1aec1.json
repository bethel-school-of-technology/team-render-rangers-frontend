{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:5117/api/recipe';\n\n// fetch all recipes\nexport const getAllRecipes = async () => {\n  const response = await axios.get(`${API_BASE_URL}`);\n  return response.data;\n};\n\n// fetch recipe by ID\nexport const getRecipe = async id => {\n  const response = await axios.get(`${API_BASE_URL}/${id}`);\n  return response.data;\n};\nexport const createRecipe = async recipeData => {\n  try {\n    const token = localStorage.getItem('token');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = await axios.post(API_BASE_URL, recipeData, config);\n    console.log('Backend response:', response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response;\n    console.error('Error from backend:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n};\n\n// update existing recipe\nexport const updateRecipe = async (id, recipeData) => {\n  const token = localStorage.getItem(\"token\"); // Or retrieve the token from your auth context/state\n  const response = await axios.put(`${API_BASE_URL}/${id}`, recipeData, {\n    headers: {\n      Authorization: `Bearer ${token}` // Attach token to the request\n    }\n  });\n  return response.data;\n};\n\n// delete recipe\nexport const deleteRecipe = async id => {\n  const token = localStorage.getItem(\"token\");\n  await axios.delete(`${API_BASE_URL}/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\n\n// search recipes by query string\nexport const searchRecipes = async query => {\n  const response = await axios.get(`${API_BASE_URL}/search?q=${query}`);\n  return response.data;\n};\n\n// get individual users saved recipes \nexport const getSavedRecipes = async () => {\n  const token = localStorage.getItem('token');\n  const response = await axios.get(`${API_BASE_URL}/user`, {\n    // should this be /user/id?\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","API_BASE_URL","getAllRecipes","response","get","data","getRecipe","id","createRecipe","recipeData","token","localStorage","getItem","config","headers","Authorization","post","console","log","error","_error$response","message","updateRecipe","put","deleteRecipe","delete","searchRecipes","query","getSavedRecipes"],"sources":["/Users/Eric/Desktop/team-render-rangers-frontend/src/services/recipeService.ts"],"sourcesContent":["import axios from 'axios';\nimport { Recipe } from '../models/recipe';\n\nconst API_BASE_URL = 'http://localhost:5117/api/recipe';\n\n// fetch all recipes\nexport const getAllRecipes = async (): Promise<Recipe[]> => {\n  const response = await axios.get(`${API_BASE_URL}`);\n  return response.data;\n};\n\n// fetch recipe by ID\nexport const getRecipe = async (id: number): Promise<Recipe> => {\n  const response = await axios.get<Recipe>(`${API_BASE_URL}/${id}`);\n  return response.data;\n};\n\nexport const createRecipe = async (recipeData: any): Promise<any> => {\n  try {\n    const token = localStorage.getItem('token');\n    const config = {\n      headers: { Authorization: `Bearer ${token}` }\n    };\n    const response = await axios.post(API_BASE_URL, recipeData, config);\n    console.log('Backend response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error from backend:', error.response?.data || error.message);\n    throw error;\n  }\n};\n\n// update existing recipe\nexport const updateRecipe = async (id: number, recipeData: Partial<Recipe>) => {\n  const token = localStorage.getItem(\"token\"); // Or retrieve the token from your auth context/state\n  const response = await axios.put(\n    `${API_BASE_URL}/${id}`,\n    recipeData,\n    {\n      headers: {\n        Authorization: `Bearer ${token}`, // Attach token to the request\n      },\n    }\n  );\n  return response.data;\n};\n\n// delete recipe\nexport const deleteRecipe = async (id: number): Promise<void> => {\n  const token = localStorage.getItem(\"token\");\n  await axios.delete(`${API_BASE_URL}/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n\n// search recipes by query string\nexport const searchRecipes = async (query: string): Promise<Recipe[]> => {\n  const response = await axios.get(`${API_BASE_URL}/search?q=${query}`);\n  return response.data;\n};\n\n// get individual users saved recipes \nexport const getSavedRecipes = async (): Promise<Recipe[]> => {\n  const token = localStorage.getItem('token');\n  const response = await axios.get(`${API_BASE_URL}/user`, { // should this be /user/id?\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  return response.data;\n};\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,YAAY,GAAG,kCAAkC;;AAEvD;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAA+B;EAC1D,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,EAAE,CAAC;EACnD,OAAOE,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMC,SAAS,GAAG,MAAOC,EAAU,IAAsB;EAC9D,MAAMJ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAS,GAAGH,YAAY,IAAIM,EAAE,EAAE,CAAC;EACjE,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMG,YAAY,GAAG,MAAOC,UAAe,IAAmB;EACnE,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC;IACD,MAAMP,QAAQ,GAAG,MAAMH,KAAK,CAACgB,IAAI,CAACf,YAAY,EAAEQ,UAAU,EAAEI,MAAM,CAAC;IACnEI,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEf,QAAQ,CAACE,IAAI,CAAC;IAC/C,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOc,KAAK,EAAE;IAAA,IAAAC,eAAA;IACdH,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAAChB,QAAQ,cAAAiB,eAAA,uBAAdA,eAAA,CAAgBf,IAAI,KAAIc,KAAK,CAACE,OAAO,CAAC;IAC3E,MAAMF,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,YAAY,GAAG,MAAAA,CAAOf,EAAU,EAAEE,UAA2B,KAAK;EAC7E,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EAC7C,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACuB,GAAG,CAC9B,GAAGtB,YAAY,IAAIM,EAAE,EAAE,EACvBE,UAAU,EACV;IACEK,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK,EAAE,CAAE;IACpC;EACF,CACF,CAAC;EACD,OAAOP,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMmB,YAAY,GAAG,MAAOjB,EAAU,IAAoB;EAC/D,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMZ,KAAK,CAACyB,MAAM,CAAC,GAAGxB,YAAY,IAAIM,EAAE,EAAE,EAAE;IAC1CO,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK;IAChC;EACF,CAAC,CAAC;AACJ,CAAC;;AAGD;AACA,OAAO,MAAMgB,aAAa,GAAG,MAAOC,KAAa,IAAwB;EACvE,MAAMxB,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,aAAa0B,KAAK,EAAE,CAAC;EACrE,OAAOxB,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMuB,eAAe,GAAG,MAAAA,CAAA,KAA+B;EAC5D,MAAMlB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,OAAO,EAAE;IAAE;IACzDa,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK;IAChC;EACF,CAAC,CAAC;EACF,OAAOP,QAAQ,CAACE,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}